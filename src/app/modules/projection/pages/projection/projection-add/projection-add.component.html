<form
  [formGroup]="addProjectionForm"
  (ngSubmit)="onSubmit()">
  <div class="p-8 bg-dark">
    <div class="flex justify-between">
      <app-close-button routerLink="../"></app-close-button>

      <app-rounded-button
        text="Add"
        color="bg-green"
        type="submit">
      </app-rounded-button>
    </div>
  </div>
  <div class="p-8">
    <div class="flex flex-row">
      <app-form-label text="Select symbol"></app-form-label>
      <div class="pl-10">
        <select
          name="symbolSelect"
          formControlName="symbol">
          <ng-container *ngFor="let symbol of symbols$ | async">
            <option [value]="symbol.id_sym">{{symbol.name_sym}}</option>
          </ng-container>
        </select>
        <app-validation-error
          for="symbol"
          fieldName="symbol"></app-validation-error>
      </div>
    </div>

    <div class="flex flex-row pt-5">
      <app-form-label text="Select order type"></app-form-label>
      <div class="pl-[17px]">
        <select
          name="orderTypeSelect"
          formControlName="orderType">
          <option [value]="1">BUY</option>
          <option [value]="0">SELL</option>
        </select>
        <app-validation-error
          for="orderType"
          fieldName="order type"></app-validation-error>
      </div>
    </div>
    <label>Upload chart</label>
    <input
      type="file"
      name="chart"
      ng2FileSelect
      [uploader]="uploader">
    <div
      class="row uploadList"
      *ngFor="let item of uploader.queue">
      <div class="col-sm-4">{{item.file.name}}</div>
      <div class="col-sm-4">
        <div class="progress">
          <div
            class="progress-bar bg-success"
            [ngStyle]="{'width':item.progress+'%'}"></div>
        </div>
      </div>
      <div class="col-sm-4">
        <button
          type="button"
          class="btn btn-dark"
          (click)="item.upload()">
          Upload
        </button>
        <button
          type="button"
          class="btn btn-dark"
          (click)="downloadChart('1689456852085.desktop-wallpaper-creed-ii-2018-phone-adonis-creed.jpg')">
          Download
        </button>
        <button
          type="button"
          class="btn btn-danger"
          (click)="item.remove()">
          Cancel
        </button>
      </div>
    </div>
    <div class="flex flex-row pt-5">
      <app-form-label text="Select timeframe"></app-form-label>
      <div class="pl-5">
        <select
          name="timeframeSelect"
          formControlName="timeframe">
          <ng-container *ngFor="let timeframe of timeframes">
            <option [value]="timeframe">{{timeframe}}</option>
          </ng-container>
        </select>
        <app-validation-error
          for="timeframe"
          fieldName="timeframe"></app-validation-error>
      </div>
    </div>

    <div class="flex flex-row pt-5">
      <app-form-label text="Select status"></app-form-label>
      <div class="pl-[50px]">
        <select
          name="statusSelect"
          formControlName="status">
          <ng-container *ngFor="let status of statuses$ | async">
            <option [value]="status.id_st">{{status.name_st}}</option>
          </ng-container>
        </select>
        <app-validation-error
          for="status"
          fieldName="status"></app-validation-error>
      </div>
    </div>
    <div class="flex items-center flex-row pt-5">
      <app-form-label text="Comment"></app-form-label>
      <div class="pl-[68px]">
        <textarea
          name="commentSelect"
          formControlName="comment"
          cols="30"
          rows="5">
        </textarea>
      </div>
    </div>

  </div>

</form>
